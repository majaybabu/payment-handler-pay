<form id="form">
  <table>
    <tr><th></th><td><input type="submit" value="Pay"></td></tr>
  </table>
</form>

<script>
    window.addEventListener("message", function(e) {
        console.log('response is ' + e);
        var form = document.getElementById("form");
        form.onsubmit = function() {
            var paymentAppResponse = {
                methodName: "basic-card",
                details: "xyz"
            };
            e.source.postMessage(paymentAppResponse);
            window.close();
        }
    });
</script>